# Auth Service ToDo List (BetterAuth Integration)

## Critical Issues (Blocking)

1. TypeScript BetterAuth Integration Error (CRITICAL - Service Not Starting)
   - [ ] Fix error in src/index.ts: Property 'initialize' does not exist on type
   - [ ] Check better-auth documentation for correct API usage
   - [ ] Update BetterAuth initialization code to match actual API
   - [ ] Consider downgrading better-auth version if latest has breaking changes
   - [ ] Ensure proper initialization of auth service in container startup

2. Node.js Version Compatibility Issues
   - [ ] Fix EBADENGINE warnings for @simplewebauthn/server requiring Node.js >=20.0.0
   - [ ] Update Docker image to use node:20-alpine instead of node:18-alpine
   - [ ] Update package.json to specify correct Node engine requirements
   - [ ] Test compatibility with all dependencies after Node.js upgrade

3. Auth Service API Exposure
   - [ ] Fix API endpoints not being reachable at http://localhost:4000/api/auth/health
   - [ ] Ensure correct port configuration in Docker and service
   - [ ] Fix API routes in src/routes/auth.ts to properly handle auth endpoints
   - [ ] Add comprehensive health check endpoint that verifies all dependencies

## High Priority

1. BetterAuth Integration Issues
   - [ ] Fix import errors in tests: ModuleNotFoundError: No module named 'better_auth'
   - [ ] Update JWT tests to work properly with Redis in test environment
   - [ ] Fix any mock requirements for tests to run correctly

2. Test Coverage Improvements
   - [ ] Fix fail message in jwt.test.ts about exceeding timeout (need async test timeout)
   - [ ] Fix Redis connection errors in tests by using a proper mock
   - [ ] Update test configuration to handle async tests properly

3. Code Quality
   - [ ] Fix warning issues identified by ESLint
   - [ ] Fix TypeScript errors in component interfaces
   - [ ] Fix any duplicate or conflicting exports

## Medium Priority

1. Security Enhancements
   - [ ] Implement proper token validation with BetterAuth
   - [ ] Add session tracking and management
   - [ ] Ensure token rotation works properly
   - [ ] Implement rate limiting for auth endpoints

2. Documentation
   - [ ] Document BetterAuth integration for other services
   - [ ] Update API documentation for auth endpoints
   - [ ] Document environment variables and configuration options